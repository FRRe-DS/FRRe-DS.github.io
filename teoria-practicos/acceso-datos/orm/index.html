<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Object Relational Mapping"><title>Object Relational Mapping | FRRe - Desarrollo de Software</title><link rel=icon href=/favicon/favicon-32x32.png type=image/x-icon><link rel=preload as=font href=/fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans-Bold.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans-BoldItalic.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans-Italic.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationMono.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/DroidSans.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/GeekdocIcons.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload href=/main-b21fa8a269.min.css as=style><link rel=stylesheet href=/main-b21fa8a269.min.css media=all><link rel=preload href=/mobile-249b801e7d.min.css as=style><link rel=stylesheet href=/mobile-249b801e7d.min.css media="screen and (max-width: 45rem)"><link rel=preload href=/print-f79fc3e5d7.min.css as=style><link rel=stylesheet href=/print-f79fc3e5d7.min.css media=print><link rel=preload href=/custom.css as=style><link rel=stylesheet href=/custom.css media=all></head><body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329.0 11.899.0 10.852V4.718a1.9 1.9.0 011.887-1.887h6.134c1.047.0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661.0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767.0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047.0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg><div class=wrapper><input type=checkbox class=hidden id=menu-control><header class=gdoc-header><div class="container flex align-center justify-between"><label for=menu-control class=gdoc-nav__control><svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"/></svg><svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"/></svg></label><a class=gdoc-header__link href=https://frre-dacs.github.io/><span class="gdoc-brand flex align-center"><img class=gdoc-brand__img src=/logo.jpeg alt>
FRRe - Desarrollo de Software</span></a></div></header><main class="container flex flex-even"><aside class=gdoc-nav><nav><div class=gdoc-search><svg class="icon gdoc_search"><use xlink:href="#gdoc_search"/></svg><input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search... aria-label=Search maxlength=64><div class="gdoc-search__spinner spinner hidden"></div><ul id=gdoc-search-results class=gdoc-search__list></ul></div><section class=gdoc-nav--main><h2>Navigation</h2><ul class=gdoc-nav__list><li><span class=flex><a href=/programa-analitico/ class=gdoc-nav__entry>Programa Analítico</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/programa-analitico/unidad-01/ class=gdoc-nav__entry>UNIDAD 1 - Arquitectura de aplicaciones multicapa.</a></span></li><li><span class=flex><a href=/programa-analitico/unidad-02/ class=gdoc-nav__entry>UNIDAD 2 - Herramientas de soporte al proceso de desarrollo</a></span></li><li><span class=flex><a href=/programa-analitico/unidad-03/ class=gdoc-nav__entry>UNIDAD 3 - Aplicaciones orientadas a servicios</a></span></li><li><span class=flex><a href=/programa-analitico/unidad-04/ class=gdoc-nav__entry>UNIDAD 4 - Programación de la interfaz de usuario</a></span></li><li><span class=flex><a href=/programa-analitico/unidad-05/ class=gdoc-nav__entry>UNIDAD 5 - Pruebas unitarias</a></span></li><li><span class=flex><a href=/programa-analitico/unidad-06/ class=gdoc-nav__entry>UNIDAD 6 - Desarrollo Seguro</a></span></li></ul></li><li><span class=flex><a href=/teoria-practicos/ class=gdoc-nav__entry>Teoría Trabajos Prácticos</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/teoria-practicos/versionado/ class=gdoc-nav__entry>Sistemas de Control de Versiones</a></span></li><li><span class=flex><a href=/teoria-practicos/acceso-datos/ class=gdoc-nav__entry>Capa de Acceso a Datos</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/teoria-practicos/acceso-datos/orm/ class="gdoc-nav__entry is-active">Object Relational Mapping</a></span></li><li><span class=flex><a href=/teoria-practicos/acceso-datos/odm/ class=gdoc-nav__entry>Object Document Mapper</a></span></li></ul></li><li><span class=flex><a href=/teoria-practicos/patrones/ class=gdoc-nav__entry>Patrones de Acceso a Datos</a></span></li><li><span class=flex><a href=/teoria-practicos/solid/ class=gdoc-nav__entry>Principios SOLID</a></span></li><li><span class=flex><a href=/teoria-practicos/rest/ class=gdoc-nav__entry>REST</a></span></li><li><span class=flex><a href=/teoria-practicos/mvc/ class=gdoc-nav__entry>MVC</a></span></li><li><span class=flex><a href=/teoria-practicos/node-frameworks/ class=gdoc-nav__entry>Frameworks en Node.js</a></span></li></ul></li><li><span class=flex>Trabajos Prácticos</span><ul class=gdoc-nav__list><li><span class=flex><a href=/trabajos-practicos/tp_00/ class=gdoc-nav__entry>Trabajo Práctico Nivelador</a></span></li><li><span class=flex><a href=/trabajos-practicos/tp_01/ class=gdoc-nav__entry>Trabajo Práctico Número 1</a></span></li><li><span class=flex><a href=/trabajos-practicos/tp_02/ class=gdoc-nav__entry>Trabajo Práctico Número 2</a></span></li><li><span class=flex><a href=/trabajos-practicos/tp-final/ class=gdoc-nav__entry>Trabajo Práctico Final</a></span><ul class=gdoc-nav__list><li><span class=flex><a href=/trabajos-practicos/tp-final/2021/ class=gdoc-nav__entry>Trabajo Práctico Final - Año 2021</a></span></li><li><span class=flex><a href=/trabajos-practicos/tp-final/2022/ class=gdoc-nav__entry>Trabajo Práctico Final</a></span></li></ul></li></ul></li></ul></section><section class=gdoc-nav--more></section></nav></aside><div class=gdoc-page><div class="gdoc-page__header flex flex-wrap
justify-between" itemprop=breadcrumb><div><svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"/></svg><ol class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/ href=/><span itemprop=name>Fundamentación</span></a><meta itemprop=position content="1"></li><li>/</li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/teoria-practicos/ href=/teoria-practicos/><span itemprop=name>Teoría Trabajos Prácticos</span></a><meta itemprop=position content="2"></li><li>/</li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemscope itemtype=https://schema.org/WebPage itemprop=item itemid=/teoria-practicos/acceso-datos/ href=/teoria-practicos/acceso-datos/><span itemprop=name>Capa de Acceso a Datos</span></a><meta itemprop=position content="3"></li><li>/</li><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Object Relational Mapping</span><meta itemprop=position content="4"></li></ol></div><div><span class=editpage><svg class="icon gdoc_code"><use xlink:href="#gdoc_code"/></svg><a href=https://github.com/FRRe-DS/FRRe-DS.github.io/edit/main/content/teoria-practicos/acceso-datos/orm.md>Edit this page</a></span></div></div><article class=gdoc-markdown><h1>Object Relational Mapping</h1><div class=gdoc-page__anchorwrap><h2 id=qué-es-una-orm>¿Qué es una ORM?
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#qué-es-una-orm class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor ¿Qué es una ORM?" href=#qu%c3%a9-es-una-orm><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>Una ORM procede de las siglas (Object Relational Mapping).
Es un modelo de programación que transforma las tablas de las bases de datos en entidades para simplificar enormemente la tarea del programador.
El trabajo deja de ser manual ya que el ORM lo realizara de forma independiente de la base de datos. Además, gracias al mapeo automático podrás cambiar el motor de la base de datos fácilmente.</p><div class=gdoc-page__anchorwrap><h3 id=por-qué-es-mejor-un-orm-que-otro-lenguaje-de-programación>¿Por qué es mejor un ORM que otro lenguaje de programación?
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#por-qué-es-mejor-un-orm-que-otro-lenguaje-de-programación class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor ¿Por qué es mejor un ORM que otro lenguaje de programación?" href=#por-qu%c3%a9-es-mejor-un-orm-que-otro-lenguaje-de-programaci%c3%b3n><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Un ORM tiene algunas ventajas y desventajas también. Sus ventajas son la facilidad y velocidad de uso, la seguridad contra ataques informáticos o la forma de abstracción de la base de datos que estemos utilizando.
Por otro lado, para programar con ORM es necesario aprender su lenguaje y hay entornos con gran volumen que puede ver mermado su rendimiento.
Uno de los mapeos automáticos más utilizado es de Java y se llama Hibernate, pero también están iBatis, Ebean, para .Net nHibernate , Entity Framework, entre otros.</p><div class=gdoc-page__anchorwrap><h2 id=orm-sequelize>ORM Sequelize
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#orm-sequelize class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor ORM Sequelize" href=#orm-sequelize><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>Es un ORM de Node.js basado en promesas para Postgres, MySql, MariaDB, SQLite, Microsoft SQL Server. Cuenta con un sólido soporte de transacciones, relaciones, carga ansiosa, y perezosa, replicación de lectura y mucho más.</p><p>Comando para instalar el módulo de Sequelize</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>$</span> <span class=nx>npm</span> <span class=nx>install</span> <span class=o>--</span><span class=nx>save</span> <span class=nx>sequelize</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=modelo>Modelo
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#modelo class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Modelo" href=#modelo><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Un modelo es una abstracción que representa una tabla en una base de datos. En Sequelize, es una clase que extiende de Model.
El modelo le dice a Sequelize varias cosas sobre la entidad que representa, como el nombre de la tabla de la bases de datos y que columna tiene y sus tipos.
Un modelo en Sequelize tiene un nombre. Este nombre no tiene que ser el mismo nombre de la tabla que representa en la base de datos. Por lo general, los modelos tienen nombres en singular (como User) mientras que las tablas tienen nombres en plural (como Users).</p><div class=gdoc-page__anchorwrap><h4 id=definición-de-modelos>Definición de Modelos
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#definición-de-modelos class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Definición de Modelos" href=#definici%c3%b3n-de-modelos><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Los modelos se pueden definir de dos maneras equivalentes en Sequelize:<br>• Sequelize <code>define(modelName, attributes, options)</code><br>• Extendiendo el modelo y llamando <code>init(attributes, options)</code></p><p>Utilizando sequealize.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>Sequelize</span><span class=p>,</span> <span class=nx>DataTypes</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;sequelize&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;sqlite::memory:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>User</span> <span class=o>=</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>define</span><span class=p>(</span><span class=s1>&#39;User&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Model attributes are defined here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>firstName</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>STRING</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>allowNull</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>STRING</span>
</span></span><span class=line><span class=cl>    <span class=c1>// allowNull defaults to true
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Other model options go here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// `sequelize.define` also returns the model
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>User</span> <span class=o>===</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>models</span><span class=p>.</span><span class=nx>User</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=modelo-extensible>Modelo Extensible
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#modelo-extensible class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Modelo Extensible" href=#modelo-extensible><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>Sequelize</span><span class=p>,</span> <span class=nx>DataTypes</span><span class=p>,</span> <span class=nx>Model</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;sequelize&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;sqlite::memory&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>User</span> <span class=kr>extends</span> <span class=nx>Model</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>User</span><span class=p>.</span><span class=nx>init</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Model attributes are defined here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>firstName</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>STRING</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>allowNull</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>STRING</span>
</span></span><span class=line><span class=cl>    <span class=c1>// allowNull defaults to true
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Other model options go here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>sequelize</span><span class=p>,</span> <span class=c1>// We need to pass the connection instance
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>modelName</span><span class=o>:</span> <span class=s1>&#39;User&#39;</span> <span class=c1>// We need to choose the model name
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// the defined model is the class itself
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>User</span> <span class=o>===</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>models</span><span class=p>.</span><span class=nx>User</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=sincronización-de-modelos>Sincronización de Modelos
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#sincronización-de-modelos class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Sincronización de Modelos" href=#sincronizaci%c3%b3n-de-modelos><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Cuando define un modelo, le está diciendo a Sequelize algunas cosas sobre su tabla en la base de datos. Sin embargo, ¿qué pasa si la tabla ni siquiera existe en la base de datos? ¿Qué pasa si existe, pero tiene diferentes columnas, menos columnas o cualquier otra diferencia?
Aquí es donde entra en juego la sincronización del modelo. Un modelo se puede sincronizar con la base de datos llamando a model.sync(options)una función asincrónica (que devuelve una Promise). Con esta llamada, Sequelize realizará automáticamente una consulta SQL a la base de datos. Tenga en cuenta que esto cambia solo la tabla en la base de datos, no el modelo en el lado de JavaScript.</p><p>• <code>User.sync()</code> - Esto crea la tabla si no existe (y no hace nada si ya existe)<br>• <code>User.sync({ force: true })</code> - Esto crea la tabla, soltándola primero si ya existía<br>• <code>User.sync({ alter: true })</code> - Esto verifica cuál es el estado actual de la tabla en la base de datos (qué columnas tiene, cuáles son sus tipos de datos, etc.), y luego realiza los cambios necesarios en la tabla para que coincida con el modelo.<br>Ejemplo</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>sync</span><span class=p>({</span> <span class=nx>force</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;The table for the User model was just (re)created!&#34;</span><span class=p>);</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=sincronizar-todos-los-modelos-a-la-vez>Sincronizar todos los modelos a la vez
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#sincronizar-todos-los-modelos-a-la-vez class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Sincronizar todos los modelos a la vez" href=#sincronizar-todos-los-modelos-a-la-vez><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Puede utilizar <code>sequelize.sync()</code> para sincronizar automáticamente todos los modelos.<br>Ejemplo</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>await</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>sync</span><span class=p>({</span> <span class=nx>force</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;All models were synchronized successfully.&#34;</span><span class=p>);</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=instancia-del-modelo>Instancia del Modelo
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#instancia-del-modelo class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Instancia del Modelo" href=#instancia-del-modelo><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Una instancia de la clase representa un objeto de ese modelo (que se asigna a una fila de la tabla en la base de datos). De esta forma, las instancias de modelo son DAO.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>Sequelize</span><span class=p>,</span> <span class=nx>Model</span><span class=p>,</span> <span class=nx>DataTypes</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;sequelize&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s2>&#34;sqlite::memory:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>User</span> <span class=o>=</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>define</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>TEXT</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>favoriteColor</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>TEXT</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>defaultValue</span><span class=o>:</span> <span class=s1>&#39;green&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>age</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>INTEGER</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>cash</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>INTEGER</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>sync</span><span class=p>({</span> <span class=nx>force</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Code here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})();</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=consulta-de-modelo>Consulta de Modelo
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#consulta-de-modelo class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Consulta de Modelo" href=#consulta-de-modelo><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><div class=gdoc-page__anchorwrap><h4 id=consulta-insert>Consulta INSERT
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#consulta-insert class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Consulta INSERT" href=#consulta-insert><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Primero, un ejemplo simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Create a new user
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>jane</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>create</span><span class=p>({</span> <span class=nx>firstName</span><span class=o>:</span> <span class=s2>&#34;Jane&#34;</span><span class=p>,</span> <span class=nx>lastName</span><span class=o>:</span> <span class=s2>&#34;Doe&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Jane&#39;s auto-generated ID:&#34;</span><span class=p>,</span> <span class=nx>jane</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span></code></pre></div><p>El <code>Model.create()</code> método es una forma abreviada de crear una instancia sin <code>Model.build()</code> guardar y guardar la instancia con instance.save().</p><p>También es posible definir qué atributos se pueden configurar en el createmétodo. Esto puede ser especialmente útil si crea entradas de base de datos basadas en un formulario que puede ser llenado por un usuario. Usar eso, por ejemplo, le permitiría restringir el Usermodelo para establecer solo un nombre de usuario y una dirección, pero no una marca de administrador:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>create</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>username</span><span class=o>:</span> <span class=s1>&#39;alice123&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>isAdmin</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span> <span class=nx>fields</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;username&#39;</span><span class=p>]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=c1>// let&#39;s assume the default of isAdmin is false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>user</span><span class=p>.</span><span class=nx>username</span><span class=p>);</span> <span class=c1>// &#39;alice123&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>user</span><span class=p>.</span><span class=nx>isAdmin</span><span class=p>);</span> <span class=c1>// false
</span></span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=consulta-select>Consulta SELECT
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#consulta-select class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Consulta SELECT" href=#consulta-select><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Puede leer la tabla completa de la base de datos con el findAll método.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Find all users
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>findAll</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>users</span><span class=p>.</span><span class=nx>every</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=nx>user</span> <span class=k>instanceof</span> <span class=nx>User</span><span class=p>));</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;All users:&#34;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>users</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=mi>2</span><span class=p>));</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=select--from->SELECT * FROM &mldr;
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#select--from- class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SELECT * FROM &mldr;" href=#select--from-><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Especificar atributos para consultas SELECT
Para seleccionar solo algunos atributos, puede usar la attributesopción:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>Model</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;foo&#39;</span><span class=p>,</span> <span class=s1>&#39;bar&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=select-foo-bar-from->SELECT foo, bar FROM &mldr;
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#select-foo-bar-from- class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SELECT foo, bar FROM &mldr;" href=#select-foo-bar-from-><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Se puede cambiar el nombre de los atributos mediante una matriz anidada:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>Model</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;foo&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;bar&#39;</span><span class=p>,</span> <span class=s1>&#39;baz&#39;</span><span class=p>],</span> <span class=s1>&#39;qux&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=select-foo-bar-as-baz-qux-from->SELECT foo, bar AS baz, qux FROM &mldr;
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#select-foo-bar-as-baz-qux-from- class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SELECT foo, bar AS baz, qux FROM &mldr;" href=#select-foo-bar-as-baz-qux-from-><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Puede usar sequelize.fnpara hacer agregaciones:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>Model</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;foo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>sequelize</span><span class=p>.</span><span class=nx>fn</span><span class=p>(</span><span class=s1>&#39;COUNT&#39;</span><span class=p>,</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>col</span><span class=p>(</span><span class=s1>&#39;hats&#39;</span><span class=p>)),</span> <span class=s1>&#39;n_hats&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;bar&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=select-foo-counthats-as-n_hats-bar-from->SELECT foo, COUNT(hats) AS n_hats, bar FROM &mldr;
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#select-foo-counthats-as-n_hats-bar-from- class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SELECT foo, COUNT(hats) AS n_hats, bar FROM &mldr;" href=#select-foo-counthats-as-n_hats-bar-from-><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Cuando utilice la función de agregación, debe darle un alias para poder acceder a ella desde el modelo. En el ejemplo anterior, puede obtener el número de sombreros con instance.n_hats.
A veces puede resultar tedioso enumerar todos los atributos del modelo si solo desea agregar una agregación:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// This is a tiresome way of getting the number of hats (along with every column)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Model</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;foo&#39;</span><span class=p>,</span> <span class=s1>&#39;bar&#39;</span><span class=p>,</span> <span class=s1>&#39;baz&#39;</span><span class=p>,</span> <span class=s1>&#39;qux&#39;</span><span class=p>,</span> <span class=s1>&#39;hats&#39;</span><span class=p>,</span> <span class=c1>// We had to list all attributes...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>[</span><span class=nx>sequelize</span><span class=p>.</span><span class=nx>fn</span><span class=p>(</span><span class=s1>&#39;COUNT&#39;</span><span class=p>,</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>col</span><span class=p>(</span><span class=s1>&#39;hats&#39;</span><span class=p>)),</span> <span class=s1>&#39;n_hats&#39;</span><span class=p>]</span> <span class=c1>// To add the aggregation...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// This is shorter, and less error prone because it still works if you add / remove attributes from your model later
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Model</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>include</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>[</span><span class=nx>sequelize</span><span class=p>.</span><span class=nx>fn</span><span class=p>(</span><span class=s1>&#39;COUNT&#39;</span><span class=p>,</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>col</span><span class=p>(</span><span class=s1>&#39;hats&#39;</span><span class=p>)),</span> <span class=s1>&#39;n_hats&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=select-id-foo-bar-baz-qux-hats-counthats-as-n_hats-from->SELECT id, foo, bar, baz, qux, hats, COUNT(hats) AS n_hats FROM &mldr;
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#select-id-foo-bar-baz-qux-hats-counthats-as-n_hats-from- class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SELECT id, foo, bar, baz, qux, hats, COUNT(hats) AS n_hats FROM &mldr;" href=#select-id-foo-bar-baz-qux-hats-counthats-as-n_hats-from-><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><div class=gdoc-page__anchorwrap><h4 id=consulta-de-actualización>Consulta de Actualización
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#consulta-de-actualización class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Consulta de Actualización" href=#consulta-de-actualizaci%c3%b3n><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Las consultas de actualización también aceptan la where opción, al igual que las consultas de lectura que se muestran arriba.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Change everyone without a last name to &#34;Doe&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>update</span><span class=p>({</span> <span class=nx>lastName</span><span class=o>:</span> <span class=s2>&#34;Doe&#34;</span> <span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>where</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>lastName</span><span class=o>:</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h5 id=consulta-de-eliminación>Consulta de Eliminación
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#consulta-de-eliminación class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Consulta de Eliminación" href=#consulta-de-eliminaci%c3%b3n><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h5></div><p>Las consultas de eliminación también aceptan la where opción, al igual que las consultas de lectura que se muestran arriba.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Delete everyone named &#34;Jane&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>destroy</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>where</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>firstName</span><span class=o>:</span> <span class=s2>&#34;Jane&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>Para destruir todo lo que TRUNCATEse puede usar el SQL:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Truncate the table
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>destroy</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>truncate</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=validaciones-y-restricciones>Validaciones y Restricciones
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#validaciones-y-restricciones class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Validaciones y Restricciones" href=#validaciones-y-restricciones><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>Sequelize</span><span class=p>,</span> <span class=nx>Op</span><span class=p>,</span> <span class=nx>Model</span><span class=p>,</span> <span class=nx>DataTypes</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;sequelize&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s2>&#34;sqlite::memory:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>User</span> <span class=o>=</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>define</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>username</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>TEXT</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>allowNull</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>unique</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>hashedPassword</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>STRING</span><span class=p>(</span><span class=mi>64</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>is</span><span class=o>:</span> <span class=sr>/^[0-9a-f]{64}$/i</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>sequelize</span><span class=p>.</span><span class=nx>sync</span><span class=p>({</span> <span class=nx>force</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Code here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})();</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=diferencia-entre-validaciones-y-restricciones>Diferencia entre validaciones y restricciones
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#diferencia-entre-validaciones-y-restricciones class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Diferencia entre validaciones y restricciones" href=#diferencia-entre-validaciones-y-restricciones><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Las validaciones son comprobaciones realizadas en el nivel Sequelize, en JavaScript puro. Pueden ser arbitrariamente complejos si proporciona una función de validación personalizada, o pueden ser uno de los validadores integrados que ofrece Sequelize. Si falla una validación, no se enviará ninguna consulta SQL a la base de datos.
Por otro lado, las restricciones son reglas definidas a nivel de SQL. El ejemplo más básico de restricción es una restricción única. Si falla una verificación de restricción, la base de datos arrojará un error y Sequelize enviará este error a JavaScript (en este ejemplo, arrojará un SequelizeUniqueConstraintError). Tenga en cuenta que en este caso se realizó la consulta SQL, a diferencia del caso de las validaciones.</p><p>Permitir y Rechazar valores nulos
De forma predeterminada, nulles un valor permitido para cada columna de un modelo. Esto se puede deshabilitar configurando la allowNull: false opción para una columna.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=cm>/* ... */</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>username</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nx>DataTypes</span><span class=p>.</span><span class=nx>TEXT</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>allowNull</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>unique</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=cm>/* ... */</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=biblioteca-de-conectores>Biblioteca de Conectores
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#biblioteca-de-conectores class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Biblioteca de Conectores" href=#biblioteca-de-conectores><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><div class=gdoc-page__anchorwrap><h4 id=mysql>MySQL
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#mysql class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor MySQL" href=#mysql><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>La biblioteca de conectores subyacente utilizada por Sequelize para MySQL es el paquete mysql2 npm (versión 1.5.2 o superior).</p><p>Puede proporcionarle opciones personalizadas usando dialectOptionsen el
constructor Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;mysql&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialectOptions</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Your mysql2 options here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=mariadb>MariaDB
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#mariadb class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor MariaDB" href=#mariadb><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>La biblioteca de conectores subyacente utilizada por Sequelize para MariaDB es el paquete mariadb npm.</p><p>Puede proporcionarle opciones personalizadas usando dialectOptionsen el constructor Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;mariadb&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialectOptions</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Your mariadb options here
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// connectTimeout: 1000
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=sqlite>SQLite
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#sqlite class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor SQLite" href=#sqlite><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>La biblioteca de conectores subyacente utilizada por Sequelize para SQLite es el paquete sqlite3 npm (versión 4.0.0 o superior).</p><p>El archivo de almacenamiento se especifica en el constructor Sequelize con la storageopción (utilizar :memory:para una instancia de SQLite en memoria).
Puede proporcionarle opciones personalizadas usando dialectOptionsen el constructor Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;sqlite&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>storage</span><span class=o>:</span> <span class=s1>&#39;path/to/database.sqlite&#39;</span> <span class=c1>// or &#39;:memory:&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>dialectOptions</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Your sqlite3 options here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=postgresql>PostgreSQL
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#postgresql class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor PostgreSQL" href=#postgresql><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>La biblioteca de conectores subyacente utilizada por Sequelize para PostgreSQL es el paquete pg npm (versión 7.0.0 o superior). El módulo pg-hstore también es necesario.</p><p>Puede proporcionarle opciones personalizadas usando dialectOptionsen el constructor Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;postgres&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialectOptions</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Your pg options here
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>Para conectarse a través de un socket de dominio Unix, especifique la ruta al directorio del socket en la hostopción. La ruta del socket debe comenzar con /.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;postgres&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>host</span><span class=o>:</span> <span class=s1>&#39;/path/to/socket_directory&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h4 id=mssql>MSSQL
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#mssql class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor MSSQL" href=#mssql><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>La biblioteca de conectores subyacente utilizada por Sequelize para MSSQL es el tedioso paquete npm (versión 6.0.0 o superior).</p><p>Puede proporcionarle opciones personalizadas usando dialectOptions.optionsen el constructor Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sequelize</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Sequelize</span><span class=p>(</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialect</span><span class=o>:</span> <span class=s1>&#39;postgres&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>dialectOptions</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Observe the need for this nested `options` field for MSSQL
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>options</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// Your tedious options here
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>useUTC</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>dateFirst</span><span class=o>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div class=gdoc-page__anchorwrap><h3 id=migraciones>Migraciones
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#migraciones class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Migraciones" href=#migraciones><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Al igual que usa sistemas de control de versiones como Git para administrar los cambios en su código fuente, puede usar las migraciones para realizar un seguimiento de los cambios en la base de datos. Con las migraciones, puede transferir su base de datos existente a otro estado y viceversa: esas transiciones de estado se guardan en archivos de migración, que describen cómo llegar al nuevo estado y cómo revertir los cambios para volver al estado anterior.<br>Necesitará Sequelize Command-Line Interface (CLI). La CLI incluye soporte para migraciones y arranque de proyectos.<br>Una migración en Sequelize es un archivo javascript que exporta dos funciones, up y down que dictan cómo realizar la migración y deshacerla. Define esas funciones manualmente, pero no las llama manualmente; la CLI los llamará automáticamente. En estas funciones, simplemente debe realizar las consultas que necesite, con la ayuda de sequelize.querycualquier otro método que Sequelize le proporcione. No hay magia adicional más allá de eso.</p><div class=gdoc-page__anchorwrap><h4 id=instalación-del-cli>Instalación del CLI
<a data-clipboard-text=https://frre-dacs.github.io/teoria-practicos/acceso-datos/orm/#instalación-del-cli class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Instalación del CLI" href=#instalaci%c3%b3n-del-cli><svg class="icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>Para instalar la CLI de Sequelize:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>install</span> <span class=o>--</span><span class=nx>save</span><span class=o>-</span><span class=nx>dev</span> <span class=nx>sequelize</span><span class=o>-</span><span class=nx>cli</span>
</span></span></code></pre></div></article><div class="gdoc-page__footer flex flex-wrap justify-between"></div></div></main><footer class=gdoc-footer><div class="container flex flex-wrap"><span class=gdoc-footer__item>Built with <a href=https://gohugo.io/ class=gdoc-footer__link>Hugo</a> and<svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"/></svg></span>
<span class=gdoc-footer__item><a href=https://blog.example.com/legal class=gdoc-footer__link>Legal Notice</a></span>
<span class=gdoc-footer__item><a href=/privacy class=gdoc-footer__link>Privacy Policy</a></span></div></footer></div><script defer src=/js/en.search.min.d4ae4aeb4913fcad13d0cda54abbb26d5db19030b17273a0474617ca82594c68.js></script>
<script defer src=/js/clipboard-af8ab36589.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){var t=new ClipboardJS(".clip")})</script></body></html>